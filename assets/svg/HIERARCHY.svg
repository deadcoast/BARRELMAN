<svg viewBox="0 0 700 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="700" height="800" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="350" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">BARRELMAN Hierarchical Connection Diagram</text>
  
  <!-- Legend -->
  <rect x="50" y="50" width="600" height="80" rx="5" ry="5" fill="#eef2ff" stroke="#5470c6" stroke-width="1"/>
  <text x="60" y="70" font-family="Consolas, monospace" font-size="14" font-weight="bold" fill="#333">[A] `::` First New Line String</text>
  <text x="60" y="90" font-family="Consolas, monospace" font-size="14" font-weight="bold" fill="#333">[B] `:^:` First Nesting Port</text>
  <text x="60" y="110" font-family="Consolas, monospace" font-size="14" font-weight="bold" fill="#333">[C] `::` Second New Line String, connects through First Nesting Port</text>
  <text x="400" y="70" font-family="Consolas, monospace" font-size="14" font-weight="bold" fill="#333">[D] `:^:` Hierarchal Modifier</text>
  <text x="400" y="90" font-family="Consolas, monospace" font-size="14" font-weight="bold" fill="#333">[E] `:^:` Second Nesting Port</text>
  
  <!-- Top boxes for zones - MOVED LEFT -->
  <rect x="100" y="150" width="40" height="40" fill="#5470c6" stroke="#333" stroke-width="2" rx="5" ry="5"/>
  <rect x="140" y="150" width="40" height="40" fill="#91cc75" stroke="#333" stroke-width="2" rx="5" ry="5"/>
  <rect x="180" y="150" width="40" height="40" fill="#fac858" stroke="#333" stroke-width="2" rx="5" ry="5"/>
  <rect x="220" y="150" width="40" height="40" fill="#ee6666" stroke="#333" stroke-width="2" rx="5" ry="5"/>
  
  <text x="120" y="175" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">1</text>
  <text x="160" y="175" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">2</text>
  <text x="200" y="175" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">3</text>
  <text x="240" y="175" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">4</text>
  
  <!-- Horizontal line under boxes -->
  <line x1="100" y1="190" x2="260" y2="190" stroke="#333" stroke-width="2"/>
  
  <!-- Vertical lines down from boxes -->
  <line x1="120" y1="190" x2="120" y2="750" stroke="#5470c6" stroke-width="2" stroke-dasharray="4"/>
  <line x1="160" y1="190" x2="160" y2="750" stroke="#91cc75" stroke-width="2" stroke-dasharray="4"/>
  <line x1="200" y1="190" x2="200" y2="750" stroke="#fac858" stroke-width="2" stroke-dasharray="4"/>
  <line x1="240" y1="190" x2="240" y2="750" stroke="#ee6666" stroke-width="2" stroke-dasharray="4"/>
  
  <!-- Horizontal connector lines -->
  <line x1="100" y1="210" x2="260" y2="210" stroke="#333" stroke-width="1"/>
  
  <!-- Down arrows from zones -->
  <polygon points="120,210 115,220 125,220" fill="#5470c6"/>
  <polygon points="160,210 155,220 165,220" fill="#91cc75"/>
  <polygon points="200,205 195,195 205,195" fill="#fac858"/>
  <polygon points="240,210 235,220 245,220" fill="#ee6666"/>
  
  <!-- A box -->
  <rect x="100" y="230" width="60" height="40" fill="#e6f0ff" stroke="#5470c6" stroke-width="2" rx="5" ry="5"/>
  <text x="130" y="255" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">A</text>
  <line x1="100" y1="270" x2="160" y2="270" stroke="#5470c6" stroke-width="1"/>
  
  <!-- A connection text -->
  <rect x="280" y="235" width="380" height="30" rx="15" ry="15" fill="#eef2ff" stroke="#5470c6" stroke-width="1"/>
  <text x="290" y="255" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[A] CONNECTS [1],[2] --> [B], [D]</text>
  
  <!-- Arrows below A -->
  <polygon points="120,290 115,300 125,300" fill="#5470c6"/>
  <polygon points="160,290 155,300 165,300" fill="#91cc75"/>
  <polygon points="200,285 195,275 205,275" fill="#fac858"/>
  <polygon points="240,290 235,300 245,300" fill="#ee6666"/>
  
  <!-- Horizontal connector line -->
  <line x1="100" y1="310" x2="260" y2="310" stroke="#333" stroke-width="1"/>
  
  <!-- Arrows after horizontal line -->
  <polygon points="120,330 115,340 125,340" fill="#5470c6"/>
  <polygon points="160,330 155,340 165,340" fill="#91cc75"/>
  <polygon points="200,325 195,315 205,315" fill="#fac858"/>
  <polygon points="240,330 235,340 245,340" fill="#ee6666"/>
  
  <!-- B box with caret symbol -->
  <rect x="140" y="350" width="100" height="40" fill="#f0f9eb" stroke="#91cc75" stroke-width="2" rx="5" ry="5"/>
  <text x="190" y="375" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">B</text>
  <line x1="140" y1="390" x2="240" y2="390" stroke="#91cc75" stroke-width="1"/>
  
  <!-- Vertical line from up to B with caret -->
  <line x1="200" y1="330" x2="200" y2="350" stroke="#fac858" stroke-width="2"/>
  <text x="200" y="345" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#fac858">^</text>
  
  <!-- B connection text -->
  <rect x="280" y="355" width="380" height="30" rx="15" ry="15" fill="#f0f9eb" stroke="#91cc75" stroke-width="1"/>
  <text x="290" y="375" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[B] CONNECTS [2],[3],[4] --> [C],[D],[E]</text>
  
  <!-- Arrows below B -->
  <polygon points="120,410 115,420 125,420" fill="#5470c6"/>
  <polygon points="160,405 155,395 165,395" fill="#91cc75"/>
  <polygon points="200,405 195,395 205,395" fill="#fac858"/>
  <polygon points="240,410 235,420 245,420" fill="#ee6666"/>
  
  <!-- First C box -->
  <rect x="180" y="430" width="60" height="40" fill="#fdf6e9" stroke="#fac858" stroke-width="2" rx="5" ry="5"/>
  <text x="210" y="455" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">C</text>
  
  <!-- First C connection text -->
  <rect x="280" y="435" width="380" height="30" rx="15" ry="15" fill="#fdf6e9" stroke="#fac858" stroke-width="1"/>
  <text x="290" y="455" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[C] CONNECTS [3],[4] --> [B],[D]</text>
  
  <!-- Arrows below first C -->
  <polygon points="120,490 115,500 125,500" fill="#5470c6"/>
  <polygon points="160,485 155,475 165,475" fill="#91cc75"/>
  <polygon points="200,485 195,475 205,475" fill="#fac858"/>
  <polygon points="240,490 235,500 245,500" fill="#ee6666"/>
  
  <!-- Second C box -->
  <rect x="180" y="510" width="60" height="40" fill="#fdf6e9" stroke="#fac858" stroke-width="2" rx="5" ry="5"/>
  <text x="210" y="535" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">C</text>
  
  <!-- Second C connection text -->
  <rect x="280" y="515" width="380" height="30" rx="15" ry="15" fill="#fdf6e9" stroke="#fac858" stroke-width="1"/>
  <text x="290" y="535" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[C] CONNECTS [3],[4] --> [B],[D]</text>
  
  <!-- Arrows below second C -->
  <polygon points="120,570 115,580 125,580" fill="#5470c6"/>
  <polygon points="160,565 155,555 165,555" fill="#91cc75"/>
  <polygon points="200,570 195,580 205,580" fill="#fac858"/>
  <polygon points="240,570 235,580 245,580" fill="#ee6666"/>
  
  <!-- D box with caret symbol -->
  <rect x="100" y="590" width="100" height="40" fill="#e6f0ff" stroke="#5470c6" stroke-width="2" rx="5" ry="5"/>
  <text x="150" y="615" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">D</text>
  <line x1="100" y1="630" x2="200" y2="630" stroke="#5470c6" stroke-width="1"/>
  
  <!-- Vertical line from up to D with caret -->
  <line x1="160" y1="570" x2="160" y2="590" stroke="#91cc75" stroke-width="2"/>
  <text x="160" y="585" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#91cc75">^</text>
  
  <!-- D connection text - MADE LONGER -->
  <rect x="280" y="595" width="400" height="30" rx="15" ry="15" fill="#e6f0ff" stroke="#5470c6" stroke-width="1"/>
  <text x="290" y="615" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[D] CONNECTS [1],[2],[3] --> [A],[B],[C],[E]</text>
  
  <!-- Arrows below D -->
  <polygon points="120,650 115,660 125,660" fill="#5470c6"/>
  <polygon points="160,645 155,635 165,635" fill="#91cc75"/>
  <polygon points="200,650 195,660 205,660" fill="#fac858"/>
  <polygon points="240,650 235,660 245,660" fill="#ee6666"/>
  
  <!-- First E box -->
  <rect x="140" y="670" width="60" height="40" fill="#fde9e9" stroke="#ee6666" stroke-width="2" rx="5" ry="5"/>
  <text x="170" y="695" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">E</text>
  
  <!-- First E connection text -->
  <rect x="280" y="675" width="380" height="30" rx="15" ry="15" fill="#fde9e9" stroke="#ee6666" stroke-width="1"/>
  <text x="290" y="695" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[E] CONNECTS [3],[4] --> [C],[D]</text>
  
  <!-- Arrows below first E -->
  <polygon points="120,730 115,740 125,740" fill="#5470c6"/>
  <polygon points="160,725 155,715 165,715" fill="#91cc75"/>
  <polygon points="200,730 195,740 205,740" fill="#fac858"/>
  <polygon points="240,730 235,740 245,740" fill="#ee6666"/>
  
  <!-- Second E box -->
  <rect x="140" y="750" width="60" height="40" fill="#fde9e9" stroke="#ee6666" stroke-width="2" rx="5" ry="5"/>
  <text x="170" y="775" font-family="Consolas, monospace" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">E</text>
  
  <!-- Second E connection text -->
  <rect x="280" y="755" width="380" height="30" rx="15" ry="15" fill="#fde9e9" stroke="#ee6666" stroke-width="1"/>
  <text x="290" y="775" font-family="Consolas, monospace" font-size="14" text-anchor="left" fill="#333">[E] CONNECTS [3],[4] --> [C],[D]</text>
</svg>